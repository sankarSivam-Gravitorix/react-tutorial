{"ast":null,"code":"var _jsxFileName = \"D:\\\\New folder\\\\react-tutorial\\\\src\\\\classComponent\\\\Lifecycle.js\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport createConnection from \"./LifecycleChat\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Lifecycle extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      serverUrl: \"localhost3001\"\n    };\n    this.handleServerChange = e => {\n      let newServerUrl = e.target.value;\n      this.setState({\n        serverUrl: newServerUrl\n      });\n    };\n  }\n  setupConnection() {\n    this.connection = createConnection(this.state.serverUrl, this.props.roomId);\n    this.connection = connect();\n  }\n  componentDidMount() {\n    this.setupConnection();\n  }\n  destroyConnection() {\n    this.connection.disconnect();\n    this.connection = null;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.roomId !== prevProps.roomId || this.state.serverUrl !== prevState.serverUrl) {\n      this.destroyConnection();\n      this.setupConnection();\n    }\n  }\n  componentWillUnmount() {\n    this.destroyConnection();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Server URL:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: this.state.serverUrl,\n        onChange: this.handleServerChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"welcome to the \", this.props.roomId, \" room!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Lifecycle;","map":{"version":3,"names":["React","Component","createConnection","jsxDEV","_jsxDEV","Lifecycle","constructor","args","state","serverUrl","handleServerChange","e","newServerUrl","target","value","setState","setupConnection","connection","props","roomId","connect","componentDidMount","destroyConnection","disconnect","componentDidUpdate","prevProps","prevState","componentWillUnmount","render","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange"],"sources":["D:/New folder/react-tutorial/src/classComponent/Lifecycle.js"],"sourcesContent":["import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport createConnection from \"./LifecycleChat\";\r\n\r\nclass Lifecycle extends Component {\r\n  state = {\r\n    serverUrl: \"localhost3001\",\r\n  };\r\n  handleServerChange = (e) => {\r\n    let newServerUrl = e.target.value;\r\n    this.setState({\r\n      serverUrl: newServerUrl,\r\n    });\r\n  };\r\n\r\n  setupConnection() {\r\n    this.connection = createConnection(this.state.serverUrl, this.props.roomId);\r\n    this.connection = connect();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setupConnection();\r\n  }\r\n\r\n  destroyConnection() {\r\n    this.connection.disconnect();\r\n    this.connection = null;\r\n  }\r\n\r\n  componentDidUpdate( prevProps,prevState) {\r\n    if (\r\n      this.props.roomId !== prevProps.roomId ||\r\n      this.state.serverUrl !== prevState.serverUrl\r\n    ) {\r\n      this.destroyConnection();\r\n      this.setupConnection();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.destroyConnection();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Server URL:</h2>\r\n        <input\r\n          value={this.state.serverUrl}\r\n          onChange={this.handleServerChange}\r\n        />\r\n        <p>welcome to the {this.props.roomId} room!</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Lifecycle;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAOC,gBAAgB,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,SAAS,SAASJ,SAAS,CAAC;EAAAK,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KAChCC,KAAK,GAAG;MACNC,SAAS,EAAE;IACb,CAAC;IAAA,KACDC,kBAAkB,GAAIC,CAAC,IAAK;MAC1B,IAAIC,YAAY,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK;MACjC,IAAI,CAACC,QAAQ,CAAC;QACZN,SAAS,EAAEG;MACb,CAAC,CAAC;IACJ,CAAC;EAAA;EAEDI,eAAeA,CAAA,EAAG;IAChB,IAAI,CAACC,UAAU,GAAGf,gBAAgB,CAAC,IAAI,CAACM,KAAK,CAACC,SAAS,EAAE,IAAI,CAACS,KAAK,CAACC,MAAM,CAAC;IAC3E,IAAI,CAACF,UAAU,GAAGG,OAAO,CAAC,CAAC;EAC7B;EAEAC,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACL,eAAe,CAAC,CAAC;EACxB;EAEAM,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACL,UAAU,CAACM,UAAU,CAAC,CAAC;IAC5B,IAAI,CAACN,UAAU,GAAG,IAAI;EACxB;EAEAO,kBAAkBA,CAAEC,SAAS,EAACC,SAAS,EAAE;IACvC,IACE,IAAI,CAACR,KAAK,CAACC,MAAM,KAAKM,SAAS,CAACN,MAAM,IACtC,IAAI,CAACX,KAAK,CAACC,SAAS,KAAKiB,SAAS,CAACjB,SAAS,EAC5C;MACA,IAAI,CAACa,iBAAiB,CAAC,CAAC;MACxB,IAAI,CAACN,eAAe,CAAC,CAAC;IACxB;EACF;EAEAW,oBAAoBA,CAAA,EAAE;IACpB,IAAI,CAACL,iBAAiB,CAAC,CAAC;EAC1B;EAEAM,MAAMA,CAAA,EAAG;IACP,oBACExB,OAAA;MAAAyB,QAAA,gBACEzB,OAAA;QAAAyB,QAAA,EAAI;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpB7B,OAAA;QACEU,KAAK,EAAE,IAAI,CAACN,KAAK,CAACC,SAAU;QAC5ByB,QAAQ,EAAE,IAAI,CAACxB;MAAmB;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC,eACF7B,OAAA;QAAAyB,QAAA,GAAG,iBAAe,EAAC,IAAI,CAACX,KAAK,CAACC,MAAM,EAAC,QAAM;MAAA;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C,CAAC;EAEV;AACF;AAEA,eAAe5B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}