{"ast":null,"code":"var _jsxFileName = \"D:\\\\New folder\\\\react-tutorial\\\\src\\\\classComponent\\\\Lifecycle.js\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport createConnection from \"./LifecycleChat\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Lifecycle extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      serverUrl: 'localhost3001'\n    };\n    this.handleServerChange = e => {\n      let newServerUrl = e.target.value;\n      this.setState({\n        serverUrl: newServerUrl\n      });\n    };\n  }\n  setupConnection() {\n    this.connection = createConnection(this.state.serverUrl, this.props.roomId);\n    this.connection = connecct();\n  }\n  componentDidMount() {\n    this.setupConnection;\n  }\n  destroyConnection() {\n    this.connection.disconnect();\n    this.connection = null;\n  }\n  componentDidUpdate(prevState, prevProps) {\n    if (this.props.roomId !== prevProps.roomId || this.state.serverUrl !== prevState.serverUrl) {\n      this.destroyConnection();\n      this.connection();\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Server URL:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: this.state.serverUrl,\n        onChange: this.handleServerChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"welcome to the \", this.props.roomId, \" room!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Lifecycle;","map":{"version":3,"names":["React","Component","createConnection","jsxDEV","_jsxDEV","Lifecycle","constructor","args","state","serverUrl","handleServerChange","e","newServerUrl","target","value","setState","setupConnection","connection","props","roomId","connecct","componentDidMount","destroyConnection","disconnect","componentDidUpdate","prevState","prevProps","render","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange"],"sources":["D:/New folder/react-tutorial/src/classComponent/Lifecycle.js"],"sourcesContent":["import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport createConnection from \"./LifecycleChat\";\r\n\r\nclass Lifecycle extends Component {\r\n  state = {\r\n    serverUrl: 'localhost3001',\r\n  };\r\n  handleServerChange = (e) => {\r\n    let newServerUrl = e.target.value;\r\n    this.setState({\r\n      serverUrl: newServerUrl,\r\n    });\r\n  };\r\n\r\nsetupConnection(){\r\n    this.connection=createConnection(\r\n        this.state.serverUrl,\r\n        this.props.roomId\r\n    )\r\nthis.connection=connecct();\r\n}\r\n\r\ncomponentDidMount(){\r\n    this.setupConnection\r\n}\r\n\r\ndestroyConnection(){\r\n    this.connection.disconnect();\r\n    this.connection=null;\r\n}\r\n\r\ncomponentDidUpdate(prevState,prevProps){\r\n    if(\r\n        this.props.roomId !== prevProps.roomId||\r\n        this.state.serverUrl !==prevState.serverUrl\r\n    ) {\r\n        this.destroyConnection();\r\n        this.connection();\r\n    }\r\n   \r\n\r\n}\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Server URL:</h2>\r\n        <input value={this.state.serverUrl} onChange={this.handleServerChange} />\r\n        <p>welcome to the {this.props.roomId} room!</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Lifecycle;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAOC,gBAAgB,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,SAAS,SAASJ,SAAS,CAAC;EAAAK,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KAChCC,KAAK,GAAG;MACNC,SAAS,EAAE;IACb,CAAC;IAAA,KACDC,kBAAkB,GAAIC,CAAC,IAAK;MAC1B,IAAIC,YAAY,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK;MACjC,IAAI,CAACC,QAAQ,CAAC;QACZN,SAAS,EAAEG;MACb,CAAC,CAAC;IACJ,CAAC;EAAA;EAEHI,eAAeA,CAAA,EAAE;IACb,IAAI,CAACC,UAAU,GAACf,gBAAgB,CAC5B,IAAI,CAACM,KAAK,CAACC,SAAS,EACpB,IAAI,CAACS,KAAK,CAACC,MACf,CAAC;IACL,IAAI,CAACF,UAAU,GAACG,QAAQ,CAAC,CAAC;EAC1B;EAEAC,iBAAiBA,CAAA,EAAE;IACf,IAAI,CAACL,eAAe;EACxB;EAEAM,iBAAiBA,CAAA,EAAE;IACf,IAAI,CAACL,UAAU,CAACM,UAAU,CAAC,CAAC;IAC5B,IAAI,CAACN,UAAU,GAAC,IAAI;EACxB;EAEAO,kBAAkBA,CAACC,SAAS,EAACC,SAAS,EAAC;IACnC,IACI,IAAI,CAACR,KAAK,CAACC,MAAM,KAAKO,SAAS,CAACP,MAAM,IACtC,IAAI,CAACX,KAAK,CAACC,SAAS,KAAIgB,SAAS,CAAChB,SAAS,EAC7C;MACE,IAAI,CAACa,iBAAiB,CAAC,CAAC;MACxB,IAAI,CAACL,UAAU,CAAC,CAAC;IACrB;EAGJ;EAEEU,MAAMA,CAAA,EAAG;IACP,oBACEvB,OAAA;MAAAwB,QAAA,gBACExB,OAAA;QAAAwB,QAAA,EAAI;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpB5B,OAAA;QAAOU,KAAK,EAAE,IAAI,CAACN,KAAK,CAACC,SAAU;QAACwB,QAAQ,EAAE,IAAI,CAACvB;MAAmB;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACzE5B,OAAA;QAAAwB,QAAA,GAAG,iBAAe,EAAC,IAAI,CAACV,KAAK,CAACC,MAAM,EAAC,QAAM;MAAA;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C,CAAC;EAEV;AACF;AAEA,eAAe3B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}